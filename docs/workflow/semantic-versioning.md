# Семантическое версионирование ассетов

Семантическое версионирование (Semantic versioning) очень полезно в программных проектах и позволяет командам и пользователям приложений отслеживать изменения и управлять ожиданиями относительно того, как должно вести себя программное обеспечение. В программном обеспечении мы можем сделать это, присваивая номера версий нашему коду, и все будет хорошо.

В Data Science нам нужно беспокоиться не только о коде, но и о данных, моделях и средах, потому что все они могут влиять на наши выходные данные и результаты. Мы хотим иметь возможность использовать семантическое версионирование и для наших data science ресурсов.

> MajorVersion.MinorVersion.PatchVersion  
> например 1.3.4

## Модели

### Major Versions (старшая версия)

Есть две главные причины для увеличения старшей версии вашей модели.

1. Изменение интерфаса модели (изменение входной или выходной схемы данных)
2. Всегда при изменении концепции (изменение цели, большое изменение целевой аудитории или приложения).

Основное правило здесь - если вы не чувствуете себя комфортно, сравнивая метрики производительности между моделями, вам нужно увеличить старшую версию.

Дополнительно, если пользователь вашей модели должен изменить свой код, чтобы использовать вашу модель, вам нужно увеличить версию.

### Minor Versions (младшая версия)

Отражает изменение в способе создания модели или улучшения модели. Это может быть любое изменение в алгоритме, в препроцессинге, замена эмбеддингов/кодирования, и т.д.

Это может включать добавление новых признаков (features), только если они являются внутренними для модели и не требуют от пользователя предоставления их во время использования модели.

### Patch Versions (версия обновления)

Версия обновления должна увеличиваться при повторной обучении модели или изменении весов. Например, если модель имеет настраиваемые необученные параметры (например, порог отсечения), и вам нужно изменить его, вы также увеличите версию обновления перед развертыванием. 

Такой подход обеспечивает то, что если какие-то изменения, приводит вашу модель к странному поведению, вы всегда можете сопоставить изменения с номером версии, что делает отладку и откат проще.

## Датасеты

### Major Versions

Увеличиваем старшую версию, если:

- Вводите изменение схемы не обратно-совместимое (включая типы данных)
- Изменения в определении или назначенни столбцов
- Значительные изменения в объеме (ввод данных из нового источника или слияние нескольких источников в один)

### Minor Versions

Увеличиваем младшую версию, если:

- Добавили новые столбцы
- В столбец будут попадать новые значения (новые типы или категории)
- Изменение способа вычисления столбца, но не его смысл или отображение (т.е. тот же тип, размерность, величина)

### Patch Versions

Для датасетов номер версии обновления должен увеличиваться при повторном запуске конвейера данных, при отсутствии изменений в логике.

- Запуск пайплайна для сбора новых данных (напр., ежемесячное обновление)
- Исправление ошибок без изменения смысла или вычислений (обычно вызвано проблемами с источником данных, а не проблемами самого пайплайна)
- Улучшение производительности (если улучшение производительности случайно что-то ломает, вы можете откатить изменения и вернуться к предыдущей версии)

### До релиза 1.0.0

До выпуска версии 1.0.0 следует использовать младшие версии для обозначения изменений в значении набора данных (новые столбцы, изменения схемы, новые объединения и т. д.), а версии исправлений - для изменений в реализации (изменение вычислений, механизмов группировки и т. д.). До выпуска первой версии вы будете часто менять набор данных. В этом случае вам, в основном, нужно сообщать о добавлении новой функциональности в ваш набор данных.

## Окружения

### Major Versions

Добавление или удаление пакетов или обновление старшей версии у зависимостей (напр., обновление pandas с 0.25 до 1.0)

### Minor Versions

Если нужно изменить младшую версию пакета или зафиксировать версии, которые ранее не были указаны.
